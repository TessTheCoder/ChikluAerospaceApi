<!DOCTYPE html>
                                    <html xmlns:th="http://www.thymeleaf.org">
                                    <head>
                                        <title>ISS Current Location</title>
                                        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
                                        <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
                                        <style>
                                            #map {
                                                height: 500px;
                                            }
                                        </style>
                                    </head>
                                    <body class="bg-light">
                                    <div class="container py-5">
                                        <h1 class="mb-4">ISS Current Location</h1>
                                        <div th:if="${error}">
                                            <div class="alert alert-danger" th:text="${error}"></div>
                                        </div>
                                        <div th:if="${issLocation}">
                                            <div class="card mb-4 shadow-sm">
                                                <div class="card-body">
                                                    <h5 class="card-title">Current Position</h5>
                                                    <p class="card-text">Latitude: <span th:text="${issLocation.iss_position.latitude}"></span></p>
                                                    <p class="card-text">Longitude: <span th:text="${issLocation.iss_position.longitude}"></span></p>
                                                    <p class="card-text">Timestamp: <span th:text="${issLocation.timestamp}"></span></p>
                                                </div>
                                            </div>
                                            <div id="map"></div>
                                        </div>
                                    </div>
                                    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
                                    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
                                    <script th:inline="javascript">
                                        /*<![CDATA[*/
                                        var issLocation = /*[[${issLocation}]]*/ {};
                                        if (issLocation && issLocation.iss_position) {
                                            var map = L.map('map').setView([issLocation.iss_position.latitude, issLocation.iss_position.longitude], 2);
                                            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                                                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                                            }).addTo(map);
                                            L.marker([issLocation.iss_position.latitude, issLocation.iss_position.longitude]).addTo(map)
                                                .bindPopup('ISS Current Location')
                                                .openPopup();
                                        }
                                        /*]]>*/
                                    </script>
                                    </body>
                                    </html>